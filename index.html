<style>
body{
  background-image: url(nazca.png);
  background-size: 1024px;
  background-repeat: no-repeat;
}
</style>
<script src='curve.js'></script>
<script>

onload = () => {
  const lineWidth = 16
  parentSelector = '#a'
  // stomach
  addPath([{x:680,y:357},{x:640,y:375},{x:596,y:388},{x:546,y:405},{x:533,y:457},{x:571,y:480},{x:626,y:474},{x:674,y:448},{x:695,y:405},{x:704,y:371}], lineWidth, true)
  // front leg
  addPath([{x:737,y:401},{x:737,y:447},{x:715,y:498},{x:686,y:527},{x:678,y:563},{x:718,y:561},{x:752,y:522},{x:769,y:487}], lineWidth)
  addPath([{x:826,y:441},{x:819,y:487},{x:787,y:537}], lineWidth)
  // face
  addPath([{x:792,y:123},{x:818,y:120},{x:848,y:78},{x:872,y:31},{x:897,y:40},{x:896,y:97},{x:897,y:159},{x:893,y:205},{x:908,y:251},{x:915,y:306},{x:899,y:351},{x:876,y:390},{x:825,y:407},{x:774,y:395},{x:731,y:366},{x:710,y:326},{x:689,y:290},{x:684,y:252},{x:697,y:204},{x:697,y:153},{x:697,y:90},{x:694,y:37},{x:722,y:24},{x:754,y:67}], lineWidth, true)
  addPath([{x:761,y:313},{x:770,y:347},{x:806,y:352},{x:831,y:334},{x:828,y:304},{x:794,y:304}], lineWidth, true)
  addPath([{x:762,y:201},{x:747,y:215},{x:747,y:243},{x:776,y:248},{x:793,y:234},{x:789,y:209}], lineWidth, true)
  addPath([{x:850, y: 205}, {x:824,y:212},{x:820,y:237},{x:828,y:255},{x:860,y:256},{x:869,y:234},{x:863,y:215}], lineWidth, true)
  // tail pattern
  addPath([{x:83,y:454},{x:90,y:460},{x:122,y:444},{x:148,y:425},{x:176,y:415},{x:202,y:420},{x:201,y:434}], lineWidth*5/8)
  addPath([{x:118,y:460},{x:110,y:480}], lineWidth*5/8)
  addPath([{x:145,y:442},{x:140,y:461}], lineWidth*5/8)
  addPath([{x:160,y:453},{x:164,y:432}], lineWidth*5/8)
  addPath([{x:182,y:431},{x:180,y:445}], lineWidth*5/8)
  // back leg
  addPath([{x:398,y:470},{x:475,y:450},{x:494,y:390},{x:410,y:373},{x:378,y:420},{x:367,y:476},{x:353,y:585},{x:453,y:708},{x:523,y:634},{x:463,y:562}], lineWidth)
  // tail leg
  addPath([{x:275,y:529},{x:257,y:606},{x:294,y:685}], lineWidth)
  addPath([{x:182,y:516},{x:145,y:566},{x:105,y:615}], lineWidth)
  // tail
  addPath([{x:273,y:344},{x:231,y:359},{x:163,y:377},{x:107,y:406},{x:50,y:452},{x:50,y:502},{x:82,y:506},{x:157,y:494},{x:213,y:503},{x:256,y:510}], lineWidth)
  // back
  addPath([{x:670,y:238},{x:622,y:230},{x:595,y:240},{x:570,y:274},{x:548,y:297},{x:498,y:295},{x:442,y:296},{x:394,y:294},{x:311,y:323}], lineWidth)

  const arr = []
  document.body.onclick=e=>{
    const p = { x: e.pageX, y: e.pageY }
    arr.push(p)
    console.log(JSON.stringify(arr).replace(/"/g,''))
    addLineCap(p, lineWidth)
    applyStyles()
  }

  const style = document.createElement('style')
  function applyStyles() {
    const baseStyles = `
    i{position:absolute;overflow:hidden;}
    i:before{content:'';position:absolute;box-sizing:border-box;border:0px solid red;transform-origin: center;}
    `
    const bgStyles = `
    .background{
      background:${curveBackgrounds.join(',')};
    }
    `
    style.textContent = baseStyles + '\n' + curveStyles.join('\n') + '\n' + bgStyles
    document.head.appendChild(style)
  }
  applyStyles()
}
</script>
<div id='view'>
  <div id='a'></div>
  <div id='b'></div>
</div>
<div class='background' style='width:1024px;height:800px;position:absolute;top:800px;'></div>